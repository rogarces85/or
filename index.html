<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generador de Plan de Running - Osorno Runner</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html222canvas.min.js"></script>

  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-light">
  <div class="container py-5">
    <h1 class="text-center mb-4 club-red">üèÉ‚Äç‚ôÇÔ∏è Generador de Plan de Entrenamiento | Osorno Runner</h1>

    <div class="card shadow-sm border-club">
      <div class="card-body">
        <form id="runnerForm" class="row g-3">

          <h5 class="mt-3 text-secondary">Datos del Atleta</h5>
          <div class="col-md-6">
            <label class="form-label">Nombre</label>
            <input type="text" id="nombre" class="form-control" value="Atleta Osorno" required>
          </div>
          <div class="col-md-3">
            <label class="form-label">Edad</label>
            <input type="number" id="edad" class="form-control" value="30" min="18" required>
          </div>
          <div class="col-md-3">
            <label class="form-label">Nivel de Experiencia</label>
            <select id="experiencia" class="form-select">
              <option>Principiante (menos de 6 meses)</option>
              <option>Intermedio (6 meses a 2 a√±os)</option>
              <option>Avanzado (m√°s de 2 a√±os)</option>
            </select>
          </div>

          <h5 class="mt-4 text-secondary">Objetivo de Carrera</h5>
          <div class="col-md-4">
            <label class="form-label">Distancia (km)</label>
            <select id="distancia" class="form-select">
              <option value="5">5K</option>
              <option value="10">10K</option>
              <option value="21">21K (Media Marat√≥n)</option>
              <option value="42">42K (Marat√≥n)</option>
            </select>
          </div>
          
          <div class="col-md-4">
            <label class="form-label">Tiempo Objetivo (Ej: 01:45:00)</label>
            <input type="text" id="tiempo_objetivo" class="form-control" placeholder="HH:MM:SS (00:50:00 para 10K)" value="01:45:00" required>
          </div>
          
          <div class="col-md-4">
            <label class="form-label">Ritmo Actual (min/km)</label>
            <input type="text" id="ritmo_actual" class="form-control" placeholder="Ej: 5:30" value="5:30" required>
          </div>

          <h5 class="mt-4 text-secondary">Condiciones y Log√≠stica</h5>
          <div class="col-md-4">
            <label class="form-label">Semanas de preparaci√≥n</label>
            <input type="number" id="semanas" class="form-control" value="16" min="4" max="24" required>
          </div>
          <div class="col-md-4">
            <label class="form-label">D√≠as de entrenamiento / sem</label>
            <input type="number" id="dias" class="form-control" min="3" max="7" value="5" required>
          </div>
          <div class="col-md-4">
            <label class="form-label">Terreno Habitual</label>
            <select id="terreno" class="form-select">
              <option>Calle</option>
              <option>Pista</option>
              <option>Mixto (Calle/Trail)</option>
              <option>Trotadora</option>
            </select>
          </div>

          <div class="col-md-6">
            <label class="form-label">Condici√≥n de Salud Relevante</label>
            <select id="salud" class="form-select">
              <option>Ninguna</option>
              <option>Asma leve</option>
              <option>Hipertensi√≥n controlada</option>
              <option>Diabetes Tipo 2</option>
              <option>Otra (detallar en lesiones)</option>
            </select>
          </div>

          <div class="col-md-6">
            <label class="form-label">Historial/Prevenci√≥n de Lesiones (detalles)</label>
            <input type="text" id="lesiones" class="form-control" placeholder="Ej: Tendinitis en rodilla hace 6 meses, tobillo d√©bil.">
          </div>
          
          <div class="col-12 text-center mt-4">
            <button type="submit" id="generarBtn" class="btn btn-club-primary btn-lg">
              üöÄ Generar Plan Personalizado
            </button>
          </div>

        </form>
      </div>
    </div>

    <div id="planOutput" class="card shadow-sm mt-5" style="display: none;">
      <div id="planContainer">
        <h2 class="text-center club-red mb-4">Plan de Entrenamiento Personalizado</h2>
        <div id="planLoading" class="text-center">
            <div class="spinner-border text-club-red" role="status">
                <span class="visually-hidden">Cargando...</span>
            </div>
            <p class="mt-2 text-muted">Generando plan con IA (puede tardar unos segundos)...</p>
        </div>
        <div id="planContent" class="table-responsive">
          </div>
      </div>
      <div class="text-center mt-4">
        <button id="downloadBtn" class="btn btn-club-dark" onclick="exportarPDF(document.getElementById('nombre').value)" disabled>
          Descargar Plan PDF
        </button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>